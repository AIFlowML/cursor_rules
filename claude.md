# DSPy 3.0.1 Cursor Rules - Development Context

## Project Status: PLANNING COMPLETE 

### Current Phase: Ready for Implementation
- **Plan Created**: `/Users/ilessio/dev-agents/PROJECTS/cursor_rules/dspy_plan.md`
- **Target Folder**: `/Users/ilessio/dev-agents/PROJECTS/cursor_rules/.cursor/rules/DSPy_3/`
- **Rules to Create**: 100 comprehensive rules (001-100)

### Key Resources Available

#### DSPy 3.0.1 Source Code (CRITICAL REFERENCE)
```
/Users/ilessio/dev-agents/PROJECTS/cursor_rules/docs/dspy/dspy/
```
- **Use for**: Real implementation patterns, actual API usage, current best practices
- **Focus Areas**: 
  - `/clients/lm.py` - New unified LM interface
  - `/teleprompt/gepa/` - GEPA optimizer implementation  
  - `/teleprompt/simba.py` - SIMBA optimizer
  - `/predict/` - All module implementations
  - `/signatures/` - Enhanced signature system
  - `/utils/` - Utility patterns for async, streaming, caching

#### API Documentation (AUTHORITATIVE)
```
/Users/ilessio/dev-agents/PROJECTS/cursor_rules/docs/dspy/docs/api/
```
- **Complete API Reference**: All classes, methods, parameters
- **Use for**: Accurate parameter names, return types, usage patterns

#### Tutorial Examples (PRACTICAL PATTERNS)
```
/Users/ilessio/dev-agents/PROJECTS/cursor_rules/docs/dspy/docs/tutorials/
```
- **Real Applications**: Working examples of GEPA, SIMBA, agents, RAG
- **Best Practices**: Production-ready implementation patterns

#### Legacy Rules (STRUCTURE REFERENCE)
```
/Users/ilessio/dev-agents/PROJECTS/cursor_rules/.cursor/rules/DSPy/
```
- **Format Template**: YAML frontmatter + structured markdown
- **Flow Diagrams**: ASCII art workflow representations
- **DO/DON'T Patterns**: Clear example structure

### Rule Creation Priorities

#### =ï¿½ SPEED OPTIMIZATION FOCUS
Rules must **dramatically accelerate** DSPy development by:

1. **Instant Pattern Recognition**: Common patterns become muscle memory
2. **Copy-Paste Ready**: All examples work immediately with minimal modification  
3. **Error Prevention**: Catch common mistakes before they happen
4. **Best Practice Enforcement**: Guide towards optimal patterns automatically
5. **Rapid Prototyping**: Enable 10x faster iteration cycles

#### =ï¿½ Implementation Phases

**NEXT: Phase 1 - Foundation Rules (001-020)**
- Core concepts with DSPy 3.0.1 patterns
- New `dspy.LM()` interface mastery
- Enhanced signatures and modules
- Configuration and composition patterns

**Sub-agent Focus**: Analyze real source code extensively for authentic patterns

### Rule Quality Requirements

#### Technical Standards
- **Line Limit**: Maximum 400 lines per rule
- **Code Accuracy**: All examples tested with actual DSPy 3.0.1 code
- **Real Patterns**: Based on actual source code, not documentation assumptions
- **Performance**: Include optimization tips from source analysis

#### Developer Experience Standards  
- **Immediate Usability**: Copy-paste examples that work instantly
- **Progressive Complexity**: Simple ï¿½ intermediate ï¿½ advanced patterns
- **Complete Context**: Include imports, setup, error handling
- **Troubleshooting**: Address real issues found in source code

#### Content Structure (MANDATORY)
```markdown
---
description: [Speed-focused description]
globs: ["**/*.py", "**/*.ipynb"] 
alwaysApply: false
---

> You are an expert in DSPy 3.0.1. [Clear capability statement]

## [Topic] Development Flow

[ASCII workflow diagram]

## Instant Patterns

### Quick Start
[Copy-paste ready minimal example]

### Production Ready  
[Complete example with error handling]

## Advanced Techniques
[Source-code-based optimizations]

## Speed Tips
[Specific acceleration techniques]

## Common Pitfalls (CRITICAL)
[Real issues from source code analysis]

## Best Practices Summary
- [Actionable speed tips]
```

### Source Code Analysis Strategy

When creating rules, ALWAYS:

1. **Read Source Code First**: Understand actual implementation
2. **Extract Real Patterns**: Use patterns from working code
3. **Verify Examples**: Ensure compatibility with current API
4. **Find Optimizations**: Discover performance tricks from internals
5. **Document Gotchas**: Note breaking changes and migration needs

### Success Metrics

#### Development Speed Improvement
- **10x Faster Prototyping**: Basic DSPy programs in minutes not hours
- **Instant Best Practices**: No research needed for common patterns  
- **Zero Boilerplate**: Ready templates for all scenarios
- **Rapid Debugging**: Clear troubleshooting for all issues

#### Rule Effectiveness
- **Complete Coverage**: 100% of DSPy 3.0.1 capabilities
- **Real-World Ready**: All examples work in production
- **Future-Proof**: Aligned with latest architectural patterns

### Command Reference

#### Restart Work
```bash
/restart-work
```
Resumes DSPy rule creation from current progress point.

#### Current Status Check
- **Plan**:  Complete (`dspy_plan.md`)
- **Folder**:  Ready (`/DSPy_3/`)
- **Resources**:  Analyzed
- **Next**: =ï¿½ Phase 1 Implementation (Rules 001-020)

### Implementation Notes

#### Phase 1 Focus Areas
1. **001-005**: Core concepts and 3.0.1 changes
2. **006-010**: Basic modules with source-code patterns
3. **011-015**: Configuration and data handling  
4. **016-020**: Composition and pipeline patterns

#### Critical Success Factors
- **Source Code Truth**: All patterns from actual implementation
- **Speed Focus**: Every rule accelerates development 
- **Real Examples**: Working code, not theoretical examples
- **Developer UX**: Optimized for instant productivity

## Phase 2: Tutorial Examples Project (NEW ðŸš€)

### Tutorial Examples Mission
Create comprehensive example rules based on ALL official DSPy 3.0.1 tutorials and notebooks for instant production deployment.

#### Tutorial Sources (CRITICAL REFERENCE)
```
/Users/ilessio/dev-agents/PROJECTS/cursor_rules/docs/dspy/docs/tutorials/
```
- **28 Tutorial Categories**: Complete coverage of all official tutorials
- **Jupyter Notebooks**: Real working implementations to transform
- **Production Patterns**: Convert tutorials to enterprise-ready templates

#### Examples Target Folder
```
/Users/ilessio/dev-agents/PROJECTS/cursor_rules/.cursor/rules/DSPy_3_examples/
```

#### Example Categories (28 Rules)
1. **Core Applications (001-010)**: RAG, Classification, QA, Agents, Extraction
2. **Optimization Examples (011-020)**: GEPA applications, RL patterns, Finetuning  
3. **Advanced Patterns (021-028)**: Async, Caching, Streaming, Production deployment

#### Examples Quality Standards
- **Tutorial Analysis**: Extract patterns from actual working notebooks
- **Production Ready**: Add deployment, monitoring, error handling
- **Instant Use**: Complete working systems ready to deploy
- **Performance Verified**: Include benchmark results and optimizations

### Examples Agent Specializations
1. **Core Applications Agent** (Rules 001-007): RAG, Classification, QA, Agents
2. **Optimization Examples Agent** (Rules 008-014): GEPA, RL, Finetuning patterns  
3. **Advanced Patterns Agent** (Rules 015-021): Complex systems, custom modules
4. **Production Integration Agent** (Rules 022-028): Deployment, monitoring, streaming

### Examples Success Metrics
- **Complete Tutorial Coverage**: All 28 tutorial categories converted
- **Production Deployment**: Every example ready to deploy immediately
- **Performance Benchmarks**: All examples include optimization results
- **Enterprise Features**: Security, monitoring, scaling included

### Next Action
Deploy 4 specialized example agents to transform all DSPy tutorials into production-ready implementation templates.